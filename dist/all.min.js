var gulp=require("gulp"),sass=require("gulp-sass"),autoprefixer=require("gulp-autoprefixer"),jshint=require("gulp-jshint"),uglify=require("gulp-uglify"),cleanCSS=require("gulp-clean-css"),imagemin=require("gulp-imagemin"),rename=require("gulp-rename"),concat=require("gulp-concat"),notify=require("gulp-notify"),cache=require("gulp-cache"),livereload=require("gulp-livereload"),connect=require("gulp-connect"),lr=require("tiny-lr"),server=lr();gulp.task("webserver",function(){connect.server()}),gulp.task("styles",function(){return gulp.src("scss/**.scss").pipe(sass({style:"expanded"})).pipe(autoprefixer("last 2 version","safari 5","ie 8","ie 9","opera 12.1","ios 6","android 4")).pipe(concat("styles.min.css")).pipe(gulp.dest("css/")).pipe(cleanCSS()).pipe(gulp.dest("css/")).pipe(notify({message:"Styles task complete"}))}),gulp.task("scripts",function(){gulp.src("**.js").pipe(concat("all.min.js")).pipe(uglify()).pipe(gulp.dest("dist"))}),gulp.task("images",function(){return gulp.src("assets/img/**/*").pipe(cache(imagemin({optimizationLevel:3,progressive:!0,interlaced:!0}))).pipe(gulp.dest("dist/images")).pipe(notify({message:"Images task complete"}))}),gulp.task("watch",function(){gulp.watch("scss/**.scss",["styles"]),gulp.watch("js/**.js",["scripts"]);livereload()}),gulp.task("default",["styles","scripts","watch"]);